model Video {
  id        Int       @id @default(autoincrement())
  nome      String
  caminho   String
  largura   Int?
  altura    Int?
  duracao   Float?
  status    String    @default("pronto")
  criadoEm  DateTime  @default(now())
  cortes    Corte[]
  transcricoes Transcricao[]
  momentos  Momento[]
  // renders   Render[]  // removido (não há relação inversa em Render)
}

model Corte {
  id        Int      @id @default(autoincrement())
  videoId   Int
  ini       Float
  fim       Float
  preset    String   @default("9x16")
  legendaOn Boolean  @default(false)
  overlayOn Boolean  @default(true)
  seed      String?
  parametrosUnicidade String?   // salva JSON como TEXT
  status    String   @default("pendente")
  saida     String?
  Video     Video    @relation(fields: [videoId], references: [id], onDelete: Cascade)
  renders   Render[]
}

model Transcricao {
  id      Int     @id @default(autoincrement())
  videoId Int
  texto   String
  trechos String?   // salva JSON como TEXT
  Video   Video   @relation(fields: [videoId], references: [id], onDelete: Cascade)
}
